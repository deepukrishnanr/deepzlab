{"ast":null,"code":"var _jsxFileName = \"/Users/a-8048/Workspace/UI-forum-cochin/react-demo/wiki-api-with-use-effect/src/App.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [term, setTerm] = useState(\"\"); // state, setState()\n  //useEffect()\n\n  useEffect(() => {\n    //Action to perform\n    const cancelTokenSource = axios.CancelToken.source();\n\n    const search = async function () {\n      const response = await axios.get(\"https://en.wikipedia.org/w/api.php\", {\n        cancelToken: cancelTokenSource.token,\n        params: {\n          action: \"query\",\n          list: \"search\",\n          origin: '*',\n          format: 'json',\n          srsearch: term\n        }\n      });\n      console.log(response.data.query.search);\n    };\n\n    if (term) {\n      search();\n    }\n  }, [term] // optional Array ==> nothing  [] [state]\n  );\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui two column centered grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"Enter Search Term\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: term,\n    onChange: e => setTerm(e.target.value),\n    className: \"input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui celled-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, term)));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/a-8048/Workspace/UI-forum-cochin/react-demo/wiki-api-with-use-effect/src/App.jsx"],"names":["React","useState","useEffect","axios","App","term","setTerm","cancelTokenSource","CancelToken","source","search","response","get","cancelToken","token","params","action","list","origin","format","srsearch","console","log","data","query","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAGd,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC,CAHc,CAGyB;AAE3C;;AACIC,EAAAA,SAAS,CACL,MAAM;AACE;AACJ,UAAMK,iBAAiB,GAAGJ,KAAK,CAACK,WAAN,CAAkBC,MAAlB,EAA1B;;AACA,UAAMC,MAAM,GAAG,kBAAiB;AAC5B,YAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAU,oCAAV,EAAiD;AACpEC,QAAAA,WAAW,EAAEN,iBAAiB,CAACO,KADqC;AAEpEC,QAAAA,MAAM,EAAG;AACLC,UAAAA,MAAM,EAAE,OADH;AAELC,UAAAA,IAAI,EAAE,QAFD;AAGLC,UAAAA,MAAM,EAAE,GAHH;AAILC,UAAAA,MAAM,EAAE,MAJH;AAKLC,UAAAA,QAAQ,EAAEf;AALL;AAF2D,OAAjD,CAAvB;AAWAgB,MAAAA,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACY,IAAT,CAAcC,KAAd,CAAoBd,MAAhC;AACH,KAbD;;AAcA,QAAGL,IAAH,EAAS;AACLK,MAAAA,MAAM;AACT;AAGJ,GAvBI,EAuBH,CAACL,IAAD,CAvBG,CAwBJ;AAxBI,GAAT;AA4BA,sBACI;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AACI,IAAA,KAAK,EAAEA,IADX;AAEI,IAAA,QAAQ,EAAGoB,CAAD,IAAOnB,OAAO,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAF5B;AAGI,IAAA,SAAS,EAAC,OAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,CADJ,eAYI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKtB,IADL,CAZJ,CADJ,CADJ;AAoBH,CAtDD;;AAwDA,eAAeD,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n\n\n    const [term, setTerm] = useState(\"\");  // state, setState()\n\n//useEffect()\n    useEffect(\n        () => {\n                //Action to perform\n            const cancelTokenSource = axios.CancelToken.source();\n            const search = async function() {\n                const response = await axios.get(\"https://en.wikipedia.org/w/api.php\" , {\n                    cancelToken: cancelTokenSource.token,\n                    params : {\n                        action: \"query\",\n                        list: \"search\",\n                        origin: '*',\n                        format: 'json',\n                        srsearch: term\n\n                    }\n                });\n                console.log(response.data.query.search)\n            }\n            if(term) {\n                search();\n            }\n\n\n        },[term]\n         // optional Array ==> nothing  [] [state]\n    )\n\n\n    return(\n        <div className=\"ui two column centered grid\">\n            <div className=\"column\">\n                <div className=\"ui form\">\n                    <div className=\"field\">\n                        <label>Enter Search Term</label>\n                        <input\n                            value={term}\n                            onChange={(e) => setTerm(e.target.value)}\n                            className=\"input\"\n                        />\n                    </div>\n\n                </div>\n                <div className=\"ui celled-list\">\n                    {term}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}